{% extends "base.html" %}
{% block styles %}
{% endblock %}
{% block content %}

<!-- Page title -->
<h1 class="center white-text">{{recipe.recipe_name}}</h1>

<!-- Materialize card -->
<div class="row card-panel add-recipe-card center-content custom-yellow">
    <div class="col s12 m6 offset-m2">
        <img src="{{ recipe.image }}" alt="{{ recipe.recipe_name }}" class="recipe-details-image">
    </div>
    <div class="col s12 m6 offset-m2">
        <p><strong>{{ recipe.recipe_description }}</strong></p><br>
        <p><strong>Category:</strong> {{ recipe.category }}</p>
        <p><strong>Posted By:</strong> {{ recipe.created_by }}</p>
        <p><strong>Date Posted:</strong> {{ recipe.date_added }}</p><br>
        <h3>Ingredients:</h3>
            <ul>
                {% for ingredient in recipe.ingredients %}
                <li>{{ ingredient.name }} - {{ ingredient.quantity }}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="row">
            <div class="col s12 m12">
                <h3>Steps:</h3>
                <ol>
                    {% for step in recipe.method_step %}
                    <li>{{ step }}</li>
                    {% endfor %}
                </ol>
            </div>
        </div>
        <!-- Recipe buttons -->
        <div class="center">
            {% if user %}
            {% if recipe._id in user.favorites %}
            <form method="POST" action="{{ url_for('remove_favorite', recipe_id=recipe['_id']) }}">
                <a class="white-text custom-red btn small"
                    href="{{ url_for('show_recipes', recipe_id=recipe._id) }}">Back
                    to Recipes</a>
                <button type="submit" class="btn small custom-red text-shadow"><strong>Remove
                    Favorite</strong><i class="fas fa-trash-alt custom-orange-text"></i></button>
            </form>
            {% else %}
            <form method="POST" action="{{ url_for('add_to_favorites', recipe_id=recipe['_id']) }}">
                <a class="white-text custom-red btn small"
                    href="{{ url_for('show_recipes', recipe_id=recipe._id) }}">Back
                    to Recipes</a>
                <button type="submit" class="btn small custom-red white-text">Add to
                    Favorites</button>
            </form>
    {% endif %}
{% endif %}
            
        </div>
    </div>
</div>

{% endblock %}
{% block scripts %}
{% endblock %}
</body>

</html>