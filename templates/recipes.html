{% extends "base.html" %}
{% block styles %}
{% endblock %}
{% block content %}
<!-- Recipe page title -->
<h2 class="white-text center">Recipes</h2>
<div class="row">
    <div class="col s12 m8 offset-m2">
        <div class="card-panel custom-yellow">
            <form action="{{ url_for('search_recipes') }}" method="POST" class="">
                <div class="row center-align">
                    <div class="input-field ">
                        <i class="fas fa-search prefix custom-orange-text"></i>
                        <input type="text" name="query" minlength="5" class="validate" required>
                        <label for="query">Search Recipes</label>
                    </div>
                    <div>
                        <a href="{{ url_for('show_recipes')}}" class="btn btn-small custom-red">Reset<i class="fa-solid fa-rotate-left custom-orange-text"></i></a>
                        <button type="submit" class="btn-small custom-red">Search <i class="fas fa-search custom-orange-text"></i></button>
                    </div>
                </div>
            </form>

        </div>
    </div>
</div>
<div class="row">
    {% for recipe in recipes %}
    <!-- Recipe Card -->
    
        <div class="col s12 m6 offset-m2">
            <div class="card-panel custom-yellow">
            <div class="card large zoom">
                <!-- Recipe Image-->
                <div class="card-image">
                    <img src="{{ recipe.image }}" alt="{{ recipe.recipe_name }}">
                    <div class="card-title">
                        <!-- Recipe Name and Category -->
                        <h2 class="custom-red">{{ recipe.recipe_name }}</h2><br>
                        <h3 class="custom-red">{{ recipe.category }}</h3>
                    </div>
                </div>
                <div class="card-content">
                    <!-- Recipe Description, Author, and Date -->
                    <p><strong>{{ recipe.recipe_description}}</strong></p>
                    <p><strong>Posted By:</strong> {{ recipe.created_by }}</p>
                    <p><strong>Date Posted:</strong> {{ recipe.date_added }}</p><br>

                    <!-- Recipe Details link -->
                    <div class="center">
                        <a class="white-text custom-red btn small"
                            href="{{ url_for('view_recipe', recipe_id=recipe._id) }}">View Recipe</a>
                        <form method="POST" action="{{ url_for('add_to_favorites', recipe_id=recipe['_id']) }}">
                            <button type="submit" class="btn small custom-red white-text">Add to
                                Favorites</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}
{% block scripts %}
{% endblock %}
</body>

</html>